<h1> Ajouter un auteur </h1>
<form class="form-horizontal" role="form" id="add_author_form">
  <div class="form-group">
    <label for="lastname" class="col-sm-2 control-label">Nom</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="lastname" placeholder="Nom">
    </div>
  </div>
  <div class="form-group">
    <label for="firstname" class="col-sm-2 control-label">Prénom</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="firstname" placeholder="Prénom">
    </div>
  </div>
  <div class="form-group">
    <label for="address" class="col-sm-2 control-label">Adresse</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="address" placeholder="Adresse">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary"> Ajouter </button>
    </div>
  </div>
</form>
<script>

// L'événement du submit du formulaire 
$('#add_author_form').submit(function(e){
  // on annule les traitement qui se déclanchent par défaut 
  e.preventDefault();

  // Vérification des valeurs des inputs

  var lastName = $('#lastname').val();
  var firstName = $('#firstname').val();
  var address = $('#address').val();
  console.log(lastName + " " + firstName + " " + address);
  if(lastName == ''){
    $('#lastname').parents('.form-group').addClass("has-error");
  }else{
    $('#lastname').parents('.form-group').removeClass("has-error");
  }

  if(firstName == ''){
    $('#firstname').parents('.form-group').addClass("has-error");
  }else{
    $('#firstname').parents('.form-group').removeClass("has-error");
  }

  if(address == ''){
    $('#address').parents('.form-group').addClass("has-error");
  }else{
    $('#address').parents('.form-group').removeClass("has-error");
  }

  if(lastName != '' && firstName != '' && address != ''){
    // Envoi des données au webservice
    var num = ws.callMethod('addAuthor', [lastName, firstName, address]);
    // Redirection vers la page des details de l'auteur ajouté !
    location.href = (location.href).replace('author_add', 'author_list|n:' + num);    
  }
});
</script>